<!--Performance: only eval ngIf once, rather than running redundant checks (i.e. for card count or child displays)-->
<ng-container *ngIf="!!employee.directReports; else noDirectReports">
  <mat-card class="employee">
      <mat-card-header>
        <mat-card-title>{{employee.lastName}}, {{employee.firstName}}: {{employee.position}}</mat-card-title>
        <!--Task 2: Display number of direct reports-->
        <mat-card-title>Direct Reports: {{employee.directReports.length}}</mat-card-title>
        <mat-card-subtitle>Employee ID: {{employee.id}}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <mat-card class="employee-direct-reports">
          <mat-card-header>
            <mat-card-title>Direct Reports</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-list role="list">
                <mat-list-item role="listitem" *ngFor="let dirEmp of employee.directReports">
                  <app-reporting-employee [eeId]="dirEmp"></app-reporting-employee>
                </mat-list-item>
            </mat-list>
          </mat-card-content>
        </mat-card>
      </mat-card-content>  
  </mat-card>
</ng-container>

<ng-template #noDirectReports>
  <mat-card class="employee">
  <mat-card-header>
    <mat-card-title>{{employee.lastName}}, {{employee.firstName}}: {{employee.position}}</mat-card-title>
    <mat-card-subtitle>Employee ID: {{employee.id}}</mat-card-subtitle>
  </mat-card-header>
</mat-card>
</ng-template>